#!/usr/bin/env python3
"""
Simple test for PentestGPTGemini initialization
"""

import sys
sys.path.append('/home/h7ck3r/Notes/code/cybersecurity-ai-agent')

from core.shared_utils import ConfigManager
from agents.pentestgpt_gemini import PentestGPTGemini

def test_pentestgpt_init():
    """Test PentestGPTGemini initialization"""
    try:
        print("ğŸ§ª Testing PentestGPTGemini initialization...")
        
        # Load config
        config = ConfigManager().get_config()
        
        # Initialize PentestGPT
        pentestgpt = PentestGPTGemini(config)
        
        print("âœ… PentestGPTGemini initialized successfully!")
        print(f"ğŸ“ Model: {pentestgpt.model_name}")
        print(f"ğŸ”‘ API Key configured: {bool(pentestgpt.api_key)}")
        print(f"ğŸ¤– Model object: {bool(pentestgpt.model)}")
        print(f"ğŸŒ Gemini client: {bool(pentestgpt.gemini_client)}")
        
        return True
        
    except Exception as e:
        print(f"âŒ Initialization failed: {e}")
        import traceback
        traceback.print_exc()
        return False

if __name__ == "__main__":
    success = test_pentestgpt_init()
    if success:
        print("\nâœ… PENTESTGPT INITIALIZATION TEST PASSED")
    else:
        print("\nâŒ PENTESTGPT INITIALIZATION TEST FAILED")
