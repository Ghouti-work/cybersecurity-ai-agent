#!/usr/bin/env python3
"""
Simple test for PentestGPTGemini initialization
"""

import sys
sys.path.append('/home/h7ck3r/Notes/code/cybersecurity-ai-agent')

from core.shared_utils import ConfigManager
from agents.pentestgpt_gemini import PentestGPTGemini

def test_pentestgpt_init():
    """Test PentestGPTGemini initialization"""
    try:
        print("🧪 Testing PentestGPTGemini initialization...")
        
        # Load config
        config = ConfigManager().get_config()
        
        # Initialize PentestGPT
        pentestgpt = PentestGPTGemini(config)
        
        print("✅ PentestGPTGemini initialized successfully!")
        print(f"📝 Model: {pentestgpt.model_name}")
        print(f"🔑 API Key configured: {bool(pentestgpt.api_key)}")
        print(f"🤖 Model object: {bool(pentestgpt.model)}")
        print(f"🌐 Gemini client: {bool(pentestgpt.gemini_client)}")
        
        return True
        
    except Exception as e:
        print(f"❌ Initialization failed: {e}")
        import traceback
        traceback.print_exc()
        return False

if __name__ == "__main__":
    success = test_pentestgpt_init()
    if success:
        print("\n✅ PENTESTGPT INITIALIZATION TEST PASSED")
    else:
        print("\n❌ PENTESTGPT INITIALIZATION TEST FAILED")
